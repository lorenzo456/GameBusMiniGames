(self.webpackChunkopentrivia=self.webpackChunkopentrivia||[]).push([[8087],{8087:(e,t,n)=>{"use strict";n.r(t),n.d(t,{QuizquestionPageModule:()=>A});var i=n(6274),o=n(4988),s=n(4683),r=n(3899),c=n(1855),u=n(7272);let l=(()=>{class e{constructor(e){this.popoverController=e}ngOnInit(){console.log("in pop-over question details")}dismiss(){this.popoverController.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(s.Dh))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-questiondetails"]],inputs:{question:"question"},decls:8,vars:2,consts:[[3,"click"]],template:function(e,t){1&e&&(u.TgZ(0,"ion-content"),u.TgZ(1,"ion-list"),u.TgZ(2,"ion-item",0),u.NdJ("click",function(){return t.dismiss()}),u._uU(3," Times Answered: "),u.TgZ(4,"ion-label"),u._uU(5),u.qZA(),u.qZA(),u.TgZ(6,"ion-item",0),u.NdJ("click",function(){return t.dismiss()}),u._uU(7),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.xp6(5),u.Oqu(null==t.question?null:t.question.userTries),u.xp6(2),u.hij(" Times Correct: ",null==t.question?null:t.question.userTimesCorrect," "))},directives:[s.W2,s.q_,s.Ie,s.Q$],styles:[""]}),e})();var a=n(95),h=n(6730),p=n(2737),g=n(6963);function d(e,t){if(1&e&&(u.TgZ(0,"ion-item"),u.TgZ(1,"ion-label"),u._uU(2),u.ALo(3,"unescape"),u.qZA(),u._UZ(4,"ion-radio",7),u.qZA()),2&e){const e=t.$implicit;u.xp6(2),u.Oqu(u.lcZ(3,2,e)),u.xp6(2),u.s9C("value",e)}}function q(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"ion-button",8),u.NdJ("click",function(t){return u.CHM(e),u.oxw().showConfirm(t)}),u._uU(1," Take Hint "),u.qZA()}}function Z(e,t){1&e&&(u.TgZ(0,"ion-card"),u.TgZ(1,"ion-card-header"),u.TgZ(2,"ion-card-title"),u._uU(3,"No Hint Possible"),u.qZA(),u.qZA(),u.TgZ(4,"ion-card-content"),u.TgZ(5,"ion-item",9),u._UZ(6,"ion-icon",10),u._uU(7," If you would like to get hints, please check the rules in GameBus! "),u.qZA(),u.qZA(),u.qZA())}const m=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o,s){this.activatedRoute=e,this.alertCtrl=t,this.cachingService=n,this.apiService=i,this.popoverController=o,this.router=s}ngOnInit(){return(0,c.mG)(this,void 0,void 0,function*(){const e=yield this.cachingService.loadActiveQuestion();this.question=e,this.possibleAnswers=this.shuffleArray([this.question.correct_answer].concat(this.question.incorrect_answers)),this.cachingService.getAnswerLog(this.question).then(e=>this.question=e)})}shuffleArray(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}canTakeHint(){return this.apiService.getFrameData().negativePointsCheck.items.filter(e=>e.canFire&&e.conditions.filter(e=>e.property.translationKey.toUpperCase()===a.Q.THROUGH_HINT).length>0).length>0}showConfirm(e){return(0,c.mG)(this,void 0,void 0,function*(){let t=e.detail.value;const n=!t,i=yield this.alertCtrl.create({header:"Submit?",message:n?"Are you sure you want that hint?":t,buttons:[{text:"OK",role:"OK",handler:()=>{this.question.userTries++,n&&(t=this.question.correct_answer);const e=t==this.question.correct_answer;e?(this.question.userTimesCorrect++,this.router.navigate(["/correctquestion"])):this.router.navigate(["/wrongquestion"]),this.cachingService.storeAnswerLog(this.question).then(()=>this.apiService.broadcastAnswer({question:this.question,correct:e,answer:t,throughHint:n}))}},{text:"Cancel",role:"Cancel",handler:()=>{}}]});yield i.present()})}detailsPopover(e){return(0,c.mG)(this,void 0,void 0,function*(){const t=yield this.popoverController.create({component:l,event:e,cssClass:"popover_setting",componentProps:{question:this.question},translucent:!0});return t.onDidDismiss().then(e=>{console.log(e.data)}),yield t.present()})}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(r.gz),u.Y36(s.Br),u.Y36(h.$),u.Y36(p.s),u.Y36(s.Dh),u.Y36(r.F0))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-quizquestion"]],decls:18,vars:6,consts:[["slot","start"],["defaultHref","/home"],["name","ellipsis-horizontal-outline","slot","end",3,"click","mouseenter"],["value","quizoptions",3,"ionChange"],[4,"ngFor","ngForOf"],["expand","block","color","primary",3,"click",4,"ngIf","ngIfElse"],["noHint",""],["slot","start",3,"value"],["expand","block","color","primary",3,"click"],["className","ion-activated"],["name","analytics","slot","start"]],template:function(e,t){if(1&e&&(u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-buttons",0),u._UZ(3,"ion-back-button",1),u.qZA(),u.TgZ(4,"ion-title"),u._uU(5,"Quiz Question"),u.qZA(),u.TgZ(6,"ion-icon",2),u.NdJ("click",function(e){return t.detailsPopover(e)})("mouseenter",function(e){return t.detailsPopover(e)}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(7,"ion-content"),u.TgZ(8,"ion-list"),u.TgZ(9,"ion-radio-group",3),u.NdJ("ionChange",function(e){return t.showConfirm(e)}),u.TgZ(10,"ion-list-header"),u.TgZ(11,"ion-label"),u._uU(12),u.ALo(13,"unescape"),u.qZA(),u.qZA(),u.YNc(14,d,5,4,"ion-item",4),u.qZA(),u.qZA(),u.YNc(15,q,2,0,"ion-button",5),u.YNc(16,Z,8,0,"ng-template",null,6,u.W1O),u.qZA()),2&e){const e=u.MAs(17);u.xp6(12),u.Oqu(u.lcZ(13,4,null==t.question?null:t.question.question)),u.xp6(2),u.Q6J("ngForOf",t.possibleAnswers),u.xp6(1),u.Q6J("ngIf",t.canTakeHint())("ngIfElse",e)}},directives:[s.Gu,s.sr,s.Sm,s.oU,s.cs,s.wd,s.gu,s.W2,s.q_,s.se,s.QI,s.yh,s.Q$,i.sg,i.O5,s.Ie,s.B7,s.U5,s.YG,s.PM,s.Zi,s.gZ,s.FN],pipes:[g.v],styles:["ion-toolbar[_ngcontent-%COMP%]{padding-right:15px}"]}),e})()}];let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[r.Bz.forChild(m)],r.Bz]}),e})();var v=n(5709);let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[i.ez,o.u5,s.Pc,f,v.m]]}),e})()}}]);